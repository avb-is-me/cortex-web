
  
  # **cortex.chat.completions**

**High Level**

The `cortex.chat.completions` class is part of the Cortex Node.js SDK, which is a forked version of another popular SDK. This class provides functionality for creating chat completions, which are responses generated by a language model based on a given conversation context.

The `cortex` object is initialized as follows:

```javascript
import Cortex from "@janhq/cortexso-node";
const cortex = new Cortex({
  baseURL: "http://localhost:1337/v1",
  apiKey: "",
});
```

**Why should I use this function, property, function, or Configuration?**

You should use the `cortex.chat.completions` class if you need to generate natural language responses based on a conversation context. This can be useful for building chatbots, virtual assistants, or any application that requires intelligent conversation capabilities.

**Methods Overview and Code Examples**

The `cortex.chat.completions` class provides a single method called `create`. This method is responsible for generating chat completions based on the provided parameters.

```javascript
cortex.chat.completions.create(
  body: ChatCompletionCreateParams,
  options?: Core.RequestOptions,
): APIPromise<ChatCompletion> | APIPromise<Stream<ChatCompletionChunk>>
```

Here's an example of how to use the `create` method:

```javascript
const chatCompletionParams = {
  model: 'gpt-3.5-turbo',
  messages: [
    { role: 'user', content: 'Hello, how are you?' },
    { role: 'assistant', content: 'I am doing well, thank you for asking!' },
    { role: 'user', content: 'Can you tell me a joke?' },
  ],
};

cortex.chat.completions.create(chatCompletionParams)
  .then((response) => {
    if (response instanceof Stream) {
      response.on('data', (chunk) => {
        console.log(chunk.choices[0].delta?.content);
      });
    } else {
      console.log(response.choices[0].message.content);
    }
  })
  .catch((error) => {
    console.error('Error:', error);
  });
```

**What are the params or arguments required?**

The `create` method takes two arguments:

1. `body` (required): An object of type `ChatCompletionCreateParams` that contains the necessary parameters for generating the chat completion. This includes the model to use, the conversation messages, and any other optional parameters.

2. `options` (optional): An object of type `Core.RequestOptions` that allows you to customize the request, such as setting headers or specifying the request timeout.

**Prerequisites**

Before using the `cortex.chat.completions` class, make sure you have:

1. Installed the Cortex Node.js SDK by running `npm install @janhq/cortexso-node` or `yarn add @janhq/cortexso-node`.
2. Imported the necessary modules and initialized the `cortex` object with your API key and base URL.

**How do I use this function, property, function, or Configuration?**

To use the `cortex.chat.completions` class, follow these steps:

1. Import the Cortex Node.js SDK and initialize the `cortex` object with your API key and base URL.
2. Prepare the `ChatCompletionCreateParams` object with the necessary parameters, such as the model to use and the conversation messages.
3. Call the `create` method on the `cortex.chat.completions` object, passing in the `ChatCompletionCreateParams` object and any optional `Core.RequestOptions`.
4. Handle the response, which can be either a `ChatCompletion` object or a `Stream` of `ChatCompletionChunk` objects, depending on the parameters provided.

The `create` method returns a Promise that resolves with either a `ChatCompletion` object or a `Stream` of `ChatCompletionChunk` objects. If the response is a `Stream`, you can listen for the `data` event to receive the chat completion chunks as they become available. If the response is a `ChatCompletion` object, you can access the generated response directly.

Remember to handle any potential errors that may occur during the request by catching and handling the Promise's rejection.
  
  